(this.webpackJsonpflair=this.webpackJsonpflair||[]).push([[0],{103:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var r=a(1),l=a.n(r),n=a(7),s=a.n(n),o=(a(56),a(15)),i=a(16),c=a(23),u=a(22),d=a(14),m=a(10),p=a(13),h=a(3),E=a(24),f=a.n(E),g=a(45),y=a.n(g),b=a(21),v="ALERT_SUCCESS",C="ALERT_ERROR",w="ALERT_CLEAR",k="CLASSIFY_REQUEST",F="CLASSIFY_SUCCESS",R="CLASSIFY_FAILURE",x={success:function(e){return{type:v,message:e}},error:function(e){return{type:C,message:e}},clear:function(){return{type:w}}};var B=a(48),j=a.n(B),D={classify:function(e){var t={url:e};return j()({method:"post",url:"https://reddit-flask-app.herokuapp.com/predict",data:t,headers:{"Content-Type":"application/json"},withCredentials:!0}).then((function(e){if(200===e.status)return e.data;var t=e.data||e.status;return Promise.reject(t)}),(function(e){var t=e.response.status;return Promise.reject(t)}))}};var O={classify:function(e){return function(t){t(S({url:e})),D.classify(e).then((function(e){t(A(e))}),(function(e){t(_(e.toString())),t(x.error("Oops! There was an error. Please try again, later."))}))}}};var S=function(){return{type:k}},A=function(e){return{type:F,payload:e}},_=function(e){return{type:R,payload:e}},L=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,l=t.name;r.setState(Object(p.a)({},l,a))},r.handleSubmit=function(e){return function(t){if(t.preventDefault(),r.setState({submitted:!0}),r.state.touched.url&&""===e.url){var a=r.state.url;(0,r.props.dispatch)(O.classify(a))}}},r.handleBlur=function(e){return function(t){r.setState({touched:Object(m.a)({},r.state.touched,Object(p.a)({},e,!0))})}},r.openUrl=function(e){window.open(e,"_blank")},r.onDismiss=function(){(0,r.props.dispatch)(x.clear())},r.state={url:"",touched:{url:!1},submitted:!1,visible:!0},r}return Object(i.a)(a,[{key:"validate",value:function(e){var t={url:""};return this.state.touched.url?0===e.length?t.url="Reddit post's urls begin with https://www.reddit.com/":e.startsWith("https://www.reddit.com")||(t.url="Reddit post's urls begin with https://www.reddit.com/"):this.state.submitted&&0===e.length&&(t.url="Reddit post's urls begin with https://www.reddit.com/"),t}},{key:"render",value:function(){var e=this,t=this.props.alert,a=this.validate(this.state.url);return this.props.classify.isLoading?l.a.createElement("div",null,l.a.createElement(h.i,{className:"App"},l.a.createElement("img",{src:f.a,alt:"Reddit logo",style:{height:"auto",width:"200px",WebkitBorderRadius:"50%",marginBottom:"10px",marginTop:"50px"}}),l.a.createElement("h3",{style:{color:"#EFEFED",marginBottom:"10px"}},"Reddit flair classifier"),l.a.createElement(h.o,null,l.a.createElement(h.h,{sm:"12",lg:{size:6,offset:3},md:{size:6,offset:3}},l.a.createElement(y.a,{type:"ThreeDots",color:"#EFEFED",height:100,width:100}))))):this.props.classify.data?l.a.createElement("div",null,l.a.createElement(h.i,{className:"App"},l.a.createElement("img",{src:f.a,alt:"Reddit logo",style:{height:"auto",width:"200px",WebkitBorderRadius:"50%",marginBottom:"10px",marginTop:"50px"}}),l.a.createElement("h3",{style:{color:"#EFEFED",marginBottom:"20px"}},"Reddit flair classifier"),l.a.createElement("div",{style:{marginBottom:"50px"}},l.a.createElement(h.o,null,l.a.createElement(h.h,{sm:"12",lg:{size:8,offset:2},md:{size:8,offset:2}},l.a.createElement(h.c,{style:{backgroundColor:"#222222",borderColor:"#545452"}},l.a.createElement(h.f,{style:{backgroundColor:"#545452"},tag:"h5"},l.a.createElement(h.n,{style:{color:"#EFEFED",marginRight:"20px"}},"Actual flair: ",this.props.classify.data.link_flair_text),"None"!==this.props.classify.data.link_flair_text?this.props.classify.data.link_flair_text===this.props.classify.data.predicted_flair?l.a.createElement(h.n,{style:{color:"#3BCB56"}},"Predicted flair: ",this.props.classify.data.predicted_flair):l.a.createElement(h.n,{style:{color:"#ED001C"}},"Predicted flair: ",this.props.classify.data.predicted_flair):l.a.createElement(h.n,{style:{color:"#EFEFED"}},"Predicted flair: ",this.props.classify.data.predicted_flair)),l.a.createElement(h.d,null,l.a.createElement(h.g,{style:{color:"#EFEFED"}},this.props.classify.data.title),l.a.createElement(h.g,null,""===this.props.classify.data.selftext?l.a.createElement("span",{style:{color:"#A5A4A4"}},"This post has no body"):l.a.createElement("span",{style:{color:"#EFEFED"}},this.props.classify.data.selftext))),l.a.createElement(h.e,{style:{backgroundColor:"#545452"}},l.a.createElement(h.n,{style:{color:"#A5A4A4",cursor:"pointer"},onClick:function(){return e.openUrl(e.state.url)}},"Go to the post")))))),l.a.createElement(h.o,{style:{marginBottom:"20px"}},l.a.createElement(h.h,{sm:"12",lg:{size:6,offset:3},md:{size:6,offset:3}},l.a.createElement("h3",{style:{color:"#EFEFED",marginBottom:"20px"}},"Classify more posts!"),t.message&&l.a.createElement(h.a,{color:t.type,isOpen:!0,toggle:this.onDismiss},t.message),l.a.createElement(h.j,null,l.a.createElement(h.l,null,l.a.createElement(h.m,{style:{marginBottom:"10px",background:"#222222",color:"#EFEFED",borderBlockColor:"#545452"},type:"url",id:"url",name:"url",value:this.state.url,valid:""===a.url,invalid:""!==a.url,onBlur:this.handleBlur("url"),placeholder:"Enter a Reddit post's URL",onChange:this.handleInputChange}),l.a.createElement(h.k,null,a.url)),l.a.createElement(h.l,null,l.a.createElement(h.b,{onClick:this.handleSubmit(a,"log"),type:"submit",style:{borderColor:"#0077D6",backgroundColor:"#0077D6",color:"#EFEFED"},block:!0},"Classify me!"))))))):l.a.createElement("div",null,l.a.createElement(h.i,{className:"App"},l.a.createElement("img",{src:f.a,alt:"Reddit logo",style:{height:"auto",width:"200px",WebkitBorderRadius:"50%",marginBottom:"10px",marginTop:"50px"}}),l.a.createElement("h3",{style:{color:"#EFEFED",marginBottom:"10px"}},"Reddit flair classifier"),l.a.createElement(h.o,null,l.a.createElement(h.h,{sm:"12",lg:{size:6,offset:3},md:{size:6,offset:3}},t.message&&l.a.createElement(h.a,{color:t.type,isOpen:!0,toggle:this.onDismiss},t.message),l.a.createElement(h.j,null,l.a.createElement(h.l,null,l.a.createElement(h.m,{style:{marginBottom:"10px",background:"#222222",color:"#EFEFED",borderBlockColor:"#545452"},type:"url",id:"url",name:"url",value:this.state.url,valid:""===a.url,invalid:""!==a.url,onBlur:this.handleBlur("url"),placeholder:"Enter a Reddit post's URL",onChange:this.handleInputChange}),l.a.createElement(h.k,null,a.url)),l.a.createElement(h.l,null,l.a.createElement(h.b,{onClick:this.handleSubmit(a),type:"submit",style:{borderColor:"#0077D6",backgroundColor:"#0077D6",color:"#EFEFED"},block:!0},"Classify me!")))))))}}]),a}(r.Component);var T=Object(b.b)((function(e){return{classify:e.classify,alert:e.alert}}))(L),z=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(d.a,null,l.a.createElement(d.d,null,l.a.createElement(d.c,{path:"/home",component:T}),l.a.createElement(d.b,{to:"/home"})))}}]),a}(r.Component),I=(a(103),a(8)),U=a(49),P=a.n(U),W=a(50),M={isLoading:!1,errMess:null,data:null};var N,Y=Object(I.c)({classify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(m.a)({},e,{isLoading:!0,errMess:null,data:null});case F:return Object(m.a)({},e,{isLoading:!1,errMess:null,data:t.payload});case R:return Object(m.a)({},e,{isLoading:!1,errMess:t.payload,data:null});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return{type:"success",message:t.message};case C:return{type:"danger",message:t.message};case w:return{};default:return e}}});Object(W.createLogger)();N=Object(I.d)(Y,Object(I.a)(P.a));var J=function(){return l.a.createElement(b.a,{store:N},l.a.createElement("div",null,l.a.createElement(z,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(104);s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},24:function(e,t,a){e.exports=a.p+"static/media/reddit_logo.7dbc3631.png"},51:function(e,t,a){e.exports=a(105)},56:function(e,t,a){}},[[51,1,2]]]);
//# sourceMappingURL=main.6e97a444.chunk.js.map